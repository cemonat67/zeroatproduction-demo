<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zero@Production — Wastewater Manual Entry (Demo)</title>
  <style>
    :root{ --bg:#050915; --panel:#0b1224; --stroke:rgba(255,255,255,.10); --text:#e9f1ff; --muted:rgba(159,176,208,1); --orange:#f9ba00; }
    body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background:var(--bg); color:var(--text); }
    .wrap{ max-width:980px; margin:0 auto; padding:18px; }
    .top{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
    .title{ font-size:14px; letter-spacing:.2px; opacity:.95; }
    .pill{ display:inline-block; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); color:var(--text); font-size:12px; text-decoration:none; }
    .hint{ color:var(--muted); font-size:12px; opacity:.85; margin:8px 0 14px; }
    /* Modal */
    #wwModal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:9999; align-items:center; justify-content:center; padding:16px; }
    #wwModal .panel{ max-width:720px; width:100%; background:var(--panel); border:1px solid var(--stroke); border-radius:14px; overflow:hidden; }
    #wwModal .hdr{ padding:14px 16px; border-bottom:1px solid var(--stroke); display:flex; align-items:center; justify-content:space-between; }
    #wwModal .body{ padding:16px; }
    input, select, textarea{
      width:100%; padding:10px; border-radius:10px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06); color:#fff; outline:none;
      font-size:13px;
    }
    textarea{ min-height:84px; resize:vertical; }
    .grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .lbl{ color:var(--muted); font-size:11px; margin:0 0 6px; }
    .actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
    .btn{ padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); color:var(--text); cursor:pointer; }
    .btn.primary{ background:var(--orange); color:#061021; border-color: rgba(0,0,0,.25); font-weight:600; }
    @media (max-width:720px){ .grid{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="title">Wastewater Manual Entry — Standalone Demo</div>
      <a class="pill" href="./pages/ops.html">← Back to OPS</a>
    </div>
    <div class="hint">
      This page auto-opens the modal so it never looks blank. Save action prints payload to console (demo).
    </div>
    <a class="pill" href="#" id="btnOpen">Open Modal</a>
  </div>

  <div id="wwModal" aria-hidden="true">
    <div class="panel">
      <div class="hdr">
        <div style="font-size:13px;letter-spacing:.2px;">Wastewater Manual Entry</div>
        <a href="#" class="pill" id="btnWWClose">Close</a>
      </div>
      <div class="body">
        <div class="hint">Facility outlet sample entry (pH, COD, TSS, TEMP_C etc.)</div>

        <div class="grid">
          <div>
            <div class="lbl">Sample Date</div>
            <input id="ww_date" type="date" />
          </div>
          <div>
            <div class="lbl">Facility</div>
            <input id="ww_facility" type="text" value="Ekoten" />
          </div>
          <div>
            <div class="lbl">Parameter Code</div>
            <input id="ww_param" type="text" placeholder="COD / TSS / PH / TEMP_C ..." />
          </div>
          <div>
            <div class="lbl">Value</div>
            <input id="ww_value" type="number" step="0.01" placeholder="e.g. 395" />
          </div>
          <div>
            <div class="lbl">Unit</div>
            <input id="ww_unit" type="text" placeholder="mg/L / pH / °C" />
          </div>
          <div>
            <div class="lbl">Sampling Point</div>
            <input id="ww_point" type="text" placeholder="Outlet / Channel A / ..." />
          </div>
        </div>

        <div style="margin-top:10px;">
          <div class="lbl">Notes</div>
          <textarea id="ww_notes" placeholder="optional..."></textarea>
        </div>

        <div class="actions">
          <button class="btn" id="btnCancel">Cancel</button>
          <button class="btn primary" id="btnSave">Save (Demo)</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function $(id){ return document.getElementById(id); }

    function openWW(){ $("wwModal").style.display = "flex"; $("wwModal").setAttribute("aria-hidden","false"); }
    function closeWW(){ $("wwModal").style.display = "none"; $("wwModal").setAttribute("aria-hidden","true"); }

    $("btnOpen").addEventListener("click", function(e){ e.preventDefault(); openWW(); });
    $("btnWWClose").addEventListener("click", function(e){ e.preventDefault(); closeWW(); });
    $("btnCancel").addEventListener("click", function(){ closeWW(); });

    $("btnSave").addEventListener("click", function(){
      const payload = {
        sample_date: $("ww_date").value,
        facility: $("ww_facility").value,
        parameter_code: $("ww_param").value,
        value: $("ww_value").value,
        unit: $("ww_unit").value,
        sampling_point: $("ww_point").value,
        notes: $("ww_notes").value
      };
      console.log("[WW][DEMO] payload", payload);
      alert("Saved (demo). Check console for payload.");
      closeWW();
    });

    // auto-open: never looks blank
    openWW();
  </script>
</body>
</html>
