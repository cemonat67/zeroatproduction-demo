<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zero<span class="at">@</span>Production — Dashboard</title>

  <!-- Main CSS (already standardized in your project) -->
  <link rel="stylesheet" href="assets/css/main.min.css" />

  <style>
    /* tiny safety net styles (keeps layout readable even if CSS breaks) */
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 18px; }
    .topbar { display:flex; align-items:center; gap:14px; padding: 12px 0; }
    .topbar img { height: 42px; width:auto; }
    .grid { display:grid; grid-template-columns: repeat(12, 1fr); gap: 14px; }
    .card { border-radius: 14px; padding: 14px; border: 1px solid rgba(0,0,0,.08); background:#fff; }
    .span-12{ grid-column: span 12; }
    .span-6{ grid-column: span 6; }
    .span-4{ grid-column: span 4; }
    .btn { display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius: 12px; border:1px solid rgba(0,0,0,.12); background:#fff; cursor:pointer; }
    .btn:active{ transform: translateY(1px); }
    .muted{ opacity:.7; font-size: 12px; }
    @media (max-width: 900px) {
      .span-6,.span-4{ grid-column: span 12; }
    }
  



/* ZP_PILL_WHITE_V1 */
a.pill, a.pill:link, a.pill:visited{
  color:#fff !important;
  text-decoration:none !important;
  background:#02154e !important;
  border:1px solid rgba(2,21,78,.25) !important;
}
a.pill:hover{
  filter:brightness(1.06);
  text-decoration:none !important;
}

/* make top .btn buttons readable too */
.btn, .btn:link, .btn:visited{
  color:#fff !important;
  background:#02154e !important;
  border:1px solid rgba(2,21,78,.25) !important;
  opacity:1 !important;
}


/* ZP_TYPO_V1: +4px everywhere, thin */
html { font-size: 16px; } /* baseline; we will add via body below */
body{
  font-size: calc(14px + 4px) !important;   /* old base ~14 -> 18 */
  font-weight: 300 !important;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

h1,h2,h3,h4,strong,b{
  font-weight: 300 !important; /* thin */
  letter-spacing: .2px;
}

/* unify clickable typography */
a, button, .btn, .pill{
  font-size: 14px !important;   /* was ~12-13 in places; now consistent */
  font-weight: 300 !important;
  letter-spacing: .15px;
}

/* keep KPI numbers readable (still not bold) */
#ceoScore, #cfoImpact, #ctoHealth{
  font-weight: 300 !important;
}


/* ZP_HEADER_2X_V1 */
.header, .topbar, .brandbar, header{
  padding-top: 18px !important;
  padding-bottom: 18px !important;
}

/* try to scale the logo safely */
.header img, .topbar img, .brandbar img, header img{
  height: 96px !important;    /* was ~48-64 => 2x */
  width: auto !important;
}

/* scale the title block near logo */
.header .title, .topbar .title, .brandbar .title, header .title{
  font-size: 24px !important;
  line-height: 1.15 !important;
  font-weight: 300 !important;
}


/* =========================
   UI PATCH (Typography + Pills)
   ========================= */

/* Global: +4px and thin */
:root { font-size: calc(100% + 4px); }
body { font-weight: 300; }
b, strong { font-weight: 500; }

/* Header sizing (fallback) */
#brandTitle { font-weight: 500 !important; }

/* Pills: unify typography + size */
a.pill, .pill {
  font-size: 14px !important;
  font-weight: 300 !important;
  line-height: 1 !important;
  padding: 6px 10px !important;
  border-radius: 999px !important;
}

/* Pill hover: our GREEN (no white hover) */
a.pill:hover, a.pill:focus, .pill:hover, .pill:focus {
  background: #005530 !important;
  border-color: #005530 !important;
  color: #ffffff !important;
}

/* If some pills are actually <a> with default link styles */
a.pill:visited { color: inherit; }

/* Optional: buttons hover also GREEN */
.btn:hover, .btn:focus {
  background: #005530 !important;
  border-color: #005530 !important;
  color: #ffffff !important;
}


/* =========================
   UI PATCH (Header 2x)
   ========================= */
#brandLogo { height: 96px !important; width: auto !important; }
#brandTitle { font-size: 28px !important; line-height: 1.1 !important; }


/* =========================
   UI PATCH (Hover Green Everywhere)
   ========================= */

/* Kill iOS/Safari tap highlight (often looks like white flash) */
a, button { -webkit-tap-highlight-color: rgba(0,0,0,0); }

/* Force all pill-like controls hover/active to GREEN */
a.pill, .pill,
a.btn, .btn,
#slotModules a, #slotExecutive3 a {
  background: transparent;
}

a.pill:hover, a.pill:focus, a.pill:active,
.pill:hover, .pill:focus, .pill:active,
a.btn:hover, a.btn:focus, a.btn:active,
.btn:hover, .btn:focus, .btn:active,
#slotModules a:hover, #slotModules a:focus, #slotModules a:active,
#slotExecutive3 a:hover, #slotExecutive3 a:focus, #slotExecutive3 a:active {
  background: #005530 !important;
  border-color: #005530 !important;
  color: #ffffff !important;
  text-decoration: none !important;
  filter: none !important;
  box-shadow: none !important;
  opacity: 1 !important;
}

/* If any rule sets hover background to white explicitly, nuke it */
a:hover { background-color: #005530 !important; color:#fff !important; }

/* Optional: keep visited from turning purple */
#slotModules a:visited, #slotExecutive3 a:visited { color: #ffffff !important; }


/* Brand: orange @ */
.at { color: #f9ba00 !important; font-weight: 400; }


    /* LIVE LOADER inputs (Phase 2) */
    .inp{
      height: 36px;
      padding: 0 12px;
      border-radius: 10px;
      border: 1px solid rgba(2,21,78,.10);
      background: #fff;
      min-width: 260px;
      font-size: 13px;
      font-weight: 300;
      outline: none;
    }
    .inp:focus{
      border-color: rgba(0,85,48,.45);
      box-shadow: 0 0 0 3px rgba(0,85,48,.10);
    }

</style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <img src="assets/img/logo.png" alt="Zero<span class="at">@</span>Production" />
      <div>
        <div style="" id="brandTitle">Zero<span class="at">@</span>Production</div>
        <div class="muted">ML-Ready · Offline-first · iPad-safe</div>
      </div>
    </div>

    <div class="grid">
      <div class="card span-12">
        <div style="display:flex; gap:10px; flex-wrap:wrap">
          <button class="btn" id="btnPdf">Export PDF (simple)</button>
          <a class="btn" href="index.html">Refresh</a>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center">
          <input id="inpPassportId" class="inp" type="text" placeholder="Passport ID (e.g., EKOTEN-2401-B01)" />
          <input id="inpFacility" class="inp" type="text" placeholder="Facility (optional)" />
          <a href="#" class="btn" id="btnLoadLive">Load Live</a>
        </div>

        <div class="muted" style="margin-top:10px">
          This is the clean base. We will plug your existing modules/cards back in step-by-step.
        </div>
      </div>

      <!-- SLOT: Executive Cards -->
      
      <!-- EXECUTIVE CARDS (injected) -->
<div class="card span-4" id="slotExecutive1">
  <div style="font-size:12px;opacity:.6;">CEO</div>
  <div style="font-size:22px;margin-top:6px;">Overall Score</div>
  <div id="ceoScore" style="font-size:36px;margin-top:10px;">75%</div>
  <div class="muted">Demo value (static)</div>
</div>

<div class="card span-4" id="slotExecutive2">
  <div style="font-size:12px;opacity:.6;">CFO</div>
  <div style="font-size:22px;margin-top:6px;">Impact / Year</div>
  <div id="cfoImpact" style="font-size:28px;margin-top:10px;">&euro; 477,440</div>
  <div class="muted">Estimated financial exposure</div>
</div>

<div class="card span-4" id="slotExecutive3">
  <div style="font-size:12px;opacity:.6;">CTO</div>

  <div style="font-size:14px;opacity:.65;margin-top:6px;">Export / Copy / Email</div>
  <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;">
    <a href="#" class="pill" id="btnExportPDF">Export PDF</a>
    <a href="#" class="pill" id="btnCopySummary">Copy Summary</a>
    <a href="#" class="pill" id="btnEmailSnapshot">Email Snapshot</a>
  </div>

  <div style="font-size:22px;margin-top:14px;">System Health</div>
  <div id="ctoHealth" style="font-size:28px;margin-top:10px;">OK</div>
  <div id="ctoSub" class="muted" style="font-size:11px;opacity:.55;">Offline mode active</div>

  <div class="muted" style="margin-top:10px;">One-click executive snapshot. Demo-safe.</div>
</div>

  

</div>
<!-- /EXECUTIVE CARDS -->


      <!-- SLOT: Modules -->
      <div class="card span-12" id="slotModules">
        <div style="font-size:12px;opacity:.6;">Modules</div>
        <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:10px;">
          <a class="pill" href="fibre-dpp.html">Fibre DPP</a>
          <a class="pill" href="yarn-dpp.html">Yarn DPP</a>
          <a class="pill" href="fabric-dpp.html">Fabric DPP</a>
          <a class="pill" href="chemicals-dyes-management.dpp.html">Chemicals &amp; Dyes</a>
          <a class="pill" href="finishing-dpp.html">Finishing</a>
          <a class="pill" href="GarmentDPP.html">Garment</a>
          <a class="pill" href="wastewater-intelligence.html">Wastewater</a>
        </div>
        <div class="muted" style="margin-top:10px;">Open a module • Return back via “← Back”</div>
      </div>

      <!-- SLOT: Ingestion (Manual + CSV) -->
      <div class="card span-12" id="slotIngestion">
        <div style="font-size:12px;opacity:.6;">Ingestion</div>

        <div style="margin-top:10px;display:flex;flex-wrap:wrap;gap:10px;">
          <a href="#" class="pill" id="tabManual">Manual Entry</a>
          <a href="#" class="pill" id="tabCSV">CSV Upload</a>
        </div>

        <div id="paneManual" style="margin-top:12px;display:none;">
          <div class="muted" style="margin-bottom:8px;">Manual input (demo-safe). Not submitted yet.</div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <input class="inp" id="inpPeriod" type="text" placeholder="Period (YYYY-MM)" />
            <input class="inp" id="inpProductionKg" type="number" placeholder="Production (kg)" />
            <input class="inp" id="inpEnergyKwh" type="number" placeholder="Energy (kWh)" />
          </div>
          <div class="muted" style="margin-top:10px;">Next: validate + write to cache + compute CO₂.</div>
        </div>

        <div id="paneCSV" style="margin-top:12px;display:none;">
          <div class="muted" style="margin-bottom:8px;">Upload two CSVs (energy.csv + production.csv). We only parse + preview counts for now.</div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <input class="inp" id="csvEnergy" type="file" accept=".csv,text/csv" />
            <input class="inp" id="csvProduction" type="file" accept=".csv,text/csv" />
          </div>
          <div class="muted" id="csvStatus" style="margin-top:10px;">No files loaded.</div>
        </div>

      </div>


    </div>

  <!-- Vendor libs -->
  <script src="assets/libs/jspdf.umd.min.js"></script>

  <!-- Our clean wrapper -->
  <script src="assets/js/pdf-engine.js"></script>

  <script>
    (function(){
"use strict";

      var btn = document.getElementById("btnPdf");
      if (btn) {
        btn.addEventListener("click", function(){
          window.ZeroPDF.exportSimpleReport("Zero<span class="at">@</span>Production Report", [
"Generated:" + new Date().toISOString(),
"Status: Base skeleton OK",
"Next: plug back executive cards + module tiles"
          ]);
        });
      }
    })();
  </script> <script src="assets/js/supabase.fabric.config.js?v=1771344458"></script>\n<script src="assets/js/production-data.js?v=1"></script>
<script>window.ZeroProductionV1 && window.ZeroProductionV1.boot();</script>
</body>
</html>
